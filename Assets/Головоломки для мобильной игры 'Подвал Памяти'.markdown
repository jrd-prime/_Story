# Головоломки для мобильной игры: "Подвал Памяти"

## Цель
Создать головоломки, вдохновленные *Blue Prince*, которые поддерживают реиграбельность, вписываются в мрачный 2D-сеттинг (подвал, лаборатория, сюрреалистическая ловушка), и интегрируются с зависимостями, случайными событиями и случайными наградами. Головоломки должны быть простыми для мобильного управления, атмосферными и связанными с сюжетом (поиск подсказок, сбор 7 осколков памяти). Они будут варьироваться, чтобы комнаты оставались непредсказуемыми при переигрывании 4–5 комнат за день.

## Головоломки в *Blue Prince*
В *Blue Prince* головоломки встроены в комнаты особняка и служат для получения предметов (ключи, чертежи), ресурсов или подсказок. Они поддерживают реиграбельность за счет вариативности и зависимостей. Основные типы:

1. **Поиск и взаимодействие**:
   - Игрок ищет предметы (например, ключ в ящике) или взаимодействует с объектами (открыть сундук, зажечь свечу). Часто требуется другой предмет (отмычка, фонарь).
   - Пример: В "Библиотеке" нужно найти книгу с подсказкой, но ее расположение случайно.

2. **Коды и комбинации**:
   - Игрок находит код (в записках, на стенах) и вводит его в замок или механизм. Коды могут быть разбросаны по комнатам.
   - Пример: Код для сундука в "Кабинете" спрятан в "Архиве".

3. **Физические пазлы**:
   - Перемещение объектов (ящики, рычаги) или настройка механизмов (шестерни, трубы). Часто с вариативностью (разные комбинации).
   - Пример: В "Кузнице" нужно соединить трубы, чтобы запустить машину.

4. **Логические пазлы**:
   - Решение задач на основе подсказок (например, расставить предметы в правильном порядке). Подсказки могут быть в других комнатах.
   - Пример: В "Саду" нужно посадить растения в порядке, указанном в записке.

5. **Ритуалы и последовательности**:
   - Выполнение действий в определенном порядке (зажечь свечи, нажать кнопки). Требует предметов или подсказок.
   - Пример: В "Часовне" нужно зажечь свечи в порядке, указанном в "Библиотеке".

**Особенности**:
- **Вариативность**: Расположение предметов, коды или порядок действий меняются.
- **Зависимости**: Некоторые пазлы требуют предметов (фонарь, ключ) или подсказок из других комнат.
- **Случайные события**: Ловушки или подсказки (голос, тень) усложняют или упрощают пазл.
- **Реиграбельность**: Игрок возвращается в комнаты, чтобы использовать новые предметы или получить другие награды.

## Головоломки для "Подвал Памяти"
Я адаптирую эти типы для вашей игры, учитывая 10 уникальных комнат, мрачный 2D-стиль, мобильный формат и реиграбельность (4–5 комнат за день, 5–10 дней на прохождение). Головоломки будут связаны с сюжетом (поиск правды, осколки памяти), зависимостями (например, лом → ключ → сундук) и случайными событиями/наградами. Каждая комната получит уникальную головоломку с вариативностью.

### 1. Комната 1: Подвал (Стартовая)
- **Описание**: Ржавые трубы, тусклая лампа, надпись "Собери осколки".
- **Головоломка**: **Поиск записки** (тип: поиск).
  - Игрок ищет записку в одном из трех ящиков (случайное расположение).
  - Вариативность: Ящик может быть заперт (20% шанс, нужен лом, иначе тратит 2 энергии).
  - Событие: Голос из динамика (30% шанс, -1 энергия, подсказка: "Ищи в воде").
- **Награда**: Записка ("Лом в комнате 2") или +1 энергия (30% шанс).
- **Энергия**: 1 единица (взлом — +2).
- **Зависимость**: Записка указывает на комнату 2 (лом).

### 2. Комната 2: Затопленный коридор
- **Описание**: Вода по щиколотку, ржавые ящики, тени в углах.
- **Головоломка**: **Активация рычага** (тип: поиск + физический).
  - Игрок ищет рычаг в одном из четырех углов (случайно). Для активации нужна записка из комнаты 3 ("Рычаг в тенях", доступна с фонарем или на 3-й день).
  - Вариативность: Рычаг может быть ржавым (30% шанс, тратит 2 энергии без лома).
  - Событие: Падающий потолок (25% шанс, -3 энергии, обход с амулетом).
- **Награда**: Лом (70% шанс), записка (20%), скрытый проход в комнату 5 (10% с запиской).
- **Энергия**: 2 единицы (рычаг — +2).
- **Зависимость**: Лом нужен для комнаты 5 (ключ). Проход открывает тайник в комнате 5.

### 3. Комната 3: Библиотека
- **Описание**: Пыльные книги, треснувший стол, мигающий свет.
- **Головоломка**: **Код для книги** (тип: код).
  - Игрок ищет книгу с кодом (3–5 цифр, случайно) в одной из пяти полок. Код вводится на замке.
  - Вариативность: Код может быть разделен (50% шанс, вторая половина в комнате 8 с отмычкой).
  - Событие: Мигающий свет (40% шанс, +1 энергия без фонаря).
- **Награда**: Записка ("Рычаг в комнате 2") или +2 энергии (40% шанс).
- **Энергия**: 1 единица (код — +2).
- **Зависимость**: Записка нужна для комнаты 2 (рычаг). Код нужен для комнаты 10 (механизм).

### 4. Комната 4: Зеркальная комната
- **Описание**: Зеркала, отражения движутся с задержкой.
- **Головоломка**: **Луч света** (тип: физический).
  - Игрок расставляет 3–5 зеркал (случайная комбинация, 10 вариантов), чтобы луч света попал в цель.
  - Вариативность: Цель может быть скрыта (30% шанс, нужна линза из комнаты 9).
  - Событие: Тень с вопросом (20% шанс, выбор ответа дает подсказку или ложь).
- **Награда**: Линза (50% с амулетом), записка (40%), осколок (30% с подсказкой из комнаты 9).
- **Энергия**: 2 единицы (пазл — +2).
- **Зависимость**: Линза нужна для комнаты 9 (секретный ключ).

### 5. Комната 5: Кабинет
- **Описание**: Шкаф с рисунком ключей, старый радиоприемник.
- **Головоломка**: **Взлом шкафа** (тип: поиск + взаимодействие).
  - Игрок взламывает шкаф (нужен лом). Без лома — код (30% шанс, из комнаты 3).
  - Вариативность: Шкаф может быть двойным (20% шанс, нужна отмычка для второго ящика).
  - Событие: Скрытый предмет (30% шанс, осколок с фонарем).
- **Награда**: Ключ (70% с ломом), осколок (50% с отмычкой), записка (30%).
- **Энергия**: 2 единицы (взлом — +2).
- **Зависимость**: Ключ нужен для комнаты 7 (сундук). Осколок через скрытый проход (комната 2).

### 6. Комната 6: Архив
- **Описание**: Полки с папками, проектор мигает.
- **Головоломка**: **Проектор и код** (тип: код + ритуал).
  - Игрок активирует проектор (нужна батарея из комнаты 8). Показывает слайд с кодом (4 цифры, случайно) или осколок.
  - Вариативность: Проектор может показать половину кода (50% шанс, вторая половина в комнате 8).
  - Событие: Тень просит помощи (20% шанс, -3 энергии, дает половину кода).
- **Награда**: Осколок (50% с батареей), код (40%), записка (30% на 3-й день).
- **Энергия**: 1 единица (проектор — +2).
- **Зависимость**: Батарея из комнаты 8. Код нужен для комнаты 10.

### 7. Комната 7: Сундук
- **Описание**: Большой сундук, темный угол, ржавый механизм.
- **Головоломка**: **Открытие сундука** (тип: взаимодействие).
  - Сундук открывается ключом (из комнаты 5). Тайник в сундуке требует секретный ключ (комната 9, 20% шанс).
  - Вариативность: Сундук может быть заперт на код (30% шанс, из комнаты 6).
  - Событие: Падающий потолок (25% шанс, -3 энергии, обход с амулетом).
- **Награда**: Осколок (60% с ключом), отмычка (40% с секретным ключом), фонарь (30% с амулетом).
- **Энергия**: 2 единицы (сундук — +2).
- **Зависимость**: Ключ из комнаты 5, секретный ключ из комнаты 9.

### 8. Комната 8: Лаборатория
- **Описание**: Столы с пробирками, записи на стенах.
- **Головоломка**: **Смешивание химикатов** (тип: логический).
  - Игрок смешивает 3–5 пробирок (4–6 комбинаций, случайно) по рецепту (на стене или в записке из комнаты 3).
  - Вариативность: Рецепт может быть скрыт (40% шанс, нужен фонарь).
  - Событие: Мигающий свет (40% шанс, +1 энергия без фонаря).
- **Награда**: Батарея (40%), половина кода (50% с отмычкой), осколок (60% после комнаты 6).
- **Энергия**: 2 единицы (пазл — +3).
- **Зависимость**: Батарея для комнаты 6. Код для комнаты 10.

### 9. Комната 9: Ловушка
- **Описание**: Скрипящие полы, тени в углах.
- **Головоломка**: **Обход ловушки** (тип: физический + поиск).
  - Игрок обходит ловушку (нужен амулет или 3 энергии). С линзой находит скрытую панель (3 случайных места).
  - Вариативность: Панель может требовать код (30% шанс, из комнаты 6).
  - Событие: Тень с вопросом (20% шанс, подсказка для комнаты 4).
- **Награда**: Секретный ключ (60% с линзой), осколок (50% с фонарем), записка (70%).
- **Энергия**: 3 единицы (ловушка — +3).
- **Зависимость**: Линза из комнаты 4. Секретный ключ для комнаты 7.

### 10. Комната 10: Механическая
- **Описание**: Шестерни, рычаги, мигающие лампы.
- **Головоломка**: **Активация механизма** (тип: код + ритуал).
  - Игрок вводит код (4 цифры, из комнат 6 или 8) или настраивает шестерни (3–5, случайно).
  - Вариативность: Код может быть частичным (50% шанс, нужна вторая половина из комнаты 3).
  - Событие: Скрытый предмет (30% шанс, амулет с линзой).
- **Награда**: Осколок (60% с кодом), амулет (40%), +3 энергии (30% с батареей).
- **Энергия**: 2 единицы (механизм — +3).
- **Зависимость**: Код из комнат 6, 8. Батарея из комнаты 8.

### 11. Комната 11: Комната Правды (Финальная)
- **Описание**: Белая комната, зеркало, голос.
- **Головоломка**: **Моральный выбор** (тип: ритуал).
  - Игрок выбирает: выйти, остаться, уничтожить комплекс. Требует 7 осколков. Подсказка из комнаты 9 ("Жертва") влияет на выбор.
  - Вариативность: Нет, но выбор зависит от предыдущих моральных решений (комнаты 6, 9).
  - Событие: Нет.
- **Награда**: Концовка (3 варианта).
- **Энергия**: 0 единиц.
- **Зависимость**: Осколки из комнат 5, 6, 7, 8, 9, 10. Подсказка из комнаты 9.

## Реиграбельность головоломок
- **Вариативность**:
  - Случайные комбинации (коды, зеркала, пробирки, шестерни).
  - Разные требования (лом vs код, ключ vs отмычка).
  - Объекты меняют расположение (ящики, книги, панели).
- **Зависимости**:
  - Лом (комната 2) → ключ (комната 5) → сундук (комната 7).
  - Батарея (комната 8) → проектор (комната 6) → код (комната 10).
  - Линза (комната 4) → секретный ключ (комната 9) → тайник (комната 7).
- **Случайные события**:
  - Голос, падающий потолок, мигающий свет, тень, скрытый предмет (20–40% шанс).
  - Влияют на энергию, подсказки или сложность пазла.
- **Случайные награды**:
  - Осколок (30–70% шанс), записка, предметы (лом, ключ, линза), энергия.
  - Зависят от предметов (фонарь, амулет), пути (скрытый проход) или дня (3-й день).
- **Ограниченный доступ**: 4–5 комнат за день. Нужные пазлы (например, комната 10) могут не выпасть.
- **Сюжет**: Пазлы раскрывают историю (записки, коды, тени). Игрок переигрывает, чтобы собрать все подсказки.

## Интеграция с энергией и рекламой
- **Энергия**: 10 единиц. Пазлы тратят 2–3 единицы (взлом, проектор, механизм). Ловушки и события — 1–3. 4–5 комнат + 1–2 пазла исчерпывают энергию, мотивируя рекламу.
- **Реклама**:
  - +5 энергии за ролик (чтобы дойти до 5-й комнаты или решить пазл).
  - Подсказка (например, "Код в комнате 6") за ролик.
  - Возрождение после ловушки (например, падающий потолок).
- **Баланс**: Пазлы средней сложности (2–3 минуты), не раздражают, но требуют энергии.

## Пример прохождения (1 день)
- **Путь**: 1 → 2 (лом, рычаг не виден без записки) → 5 (ключ, -2 энергии) → 7 (сундук, осколок, -2 энергии).
- **Головоломки**:
  - Комната 2: Найти лом в ящике (случайно, -2 энергии).
  - Комната 5: Взломать шкаф (лом, -2 энергии).
  - Комната 7: Открыть сундук (ключ, -2 энергии).
- **Событие**: Падающий потолок в комнате 7 (-3 энергии). Реклама → +5 энергии.
- **Награды**: Лом, ключ, 1-й осколок.
- **Энергия**: 10 – (1 + 2 + 2 + 2 + 3) = 0. Реклама спасает.

## Итог
Головоломки, вдохновленные *Blue Prince* (поиск, коды, физические, логические, ритуалы), адаптированы для мобильного формата и мрачного сеттинга. Вариативность (случайные коды, комбинации), зависимости (лом → ключ → сундук), события (тень, потолок) и случайные награды делают пазлы реиграбельными. Они интегрируются с энергией и рекламой, поддерживая прохождение за 5–10 дней.