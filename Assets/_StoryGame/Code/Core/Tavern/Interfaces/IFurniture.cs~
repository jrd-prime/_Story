using System.Collections.Generic;
using _StoryGame.Core.Character.Common.Interfaces;
using R3;
using UnityEngine;

namespace Game.Tavern.Interfaces
{
    /// <summary>
    /// Интерфейс для мебели в таверне
    /// </summary>
    public interface IFurniture
    {
        /// <summary>
        /// Идентификатор мебели
        /// </summary>
        string Id { get; }
        
        /// <summary>
        /// Название мебели
        /// </summary>
        string Name { get; }
        
        /// <summary>
        /// Описание мебели
        /// </summary>
        string Description { get; }
        
        /// <summary>
        /// Тип мебели
        /// </summary>
        FurnitureType Type { get; }
        
        /// <summary>
        /// Уровень мебели
        /// </summary>
        ReactiveProperty<int> Level { get; }
        
        /// <summary>
        /// Состояние мебели
        /// </summary>
        ReactiveProperty<float> Condition { get; }
        
        /// <summary>
        /// Позиция мебели в мире
        /// </summary>
        Vector3 Position { get; set; }
        
        /// <summary>
        /// Размер мебели
        /// </summary>
        Vector3 Size { get; }
        
        /// <summary>
        /// Стоимость мебели
        /// </summary>
        int Cost { get; }
        
        /// <summary>
        /// Требуемый уровень таверны для покупки
        /// </summary>
        int RequiredTavernLevel { get; }
        
        /// <summary>
        /// Ремонт мебели
        /// </summary>
        /// <param name="value">Значение ремонта</param>
        void Repair(float value);
        
        /// <summary>
        /// Улучшить мебель
        /// </summary>
        void Upgrade();
        
        /// <summary>
        /// Получить бонусы мебели
        /// </summary>
        /// <returns>Словарь бонусов</returns>
        Dictionary<BonusType, float> GetBonuses();
        
        /// <summary>
        /// Взаимодействие с мебелью
        /// </summary>
        /// <param name="character">Персонаж, взаимодействующий с мебелью</param>
        void Interact(ICharacter character);
    }
    
    /// <summary>
    /// Типы мебели
    /// </summary>
    public enum FurnitureType
    {
        Table,          // Стол
        Chair,          // Стул
        Bed,            // Кровать
        Shelf,          // Полка
        Counter,        // Прилавок
        Cauldron,       // Котел
        Oven,           // Печь
        Bar,            // Барная стойка
        Throne,         // Трон
        Bookshelf,      // Книжная полка
        Altar,          // Алтарь
        Cage,           // Клетка
        Coffin          // Гроб
    }
} 